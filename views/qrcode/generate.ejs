<% layout('layout') %>


<% block('additional_javascript_tags').append('<script type="text/javascript" src="/components/qrcode/qrcode.min.js"></script>') %>


<h1><%= title %></h1>

<div class="row">
  <div class="col-sm-12">
    <form>
      <div class="form-group">
        <label>Input</label>
        <input id="input" type="text" placeholder="URL or etc.">
      </div>

      <button type="button" class="btn btn-info" onclick="generate()">Generate</button>
    </form>
  </div>
</div>

<div class="row">
  <div class="col-sm-12">
    <canvas id="canvas"></canvas>
  </div>
</div>


<script type="text/javascript">
  function generate() {
    var input_dom = document.querySelector('#input');
    var canvas = document.querySelector('#canvas');

    QRCode.toCanvas(canvas, input_dom.value, function (error) {
      if (error) console.error(error)
      console.log('success!');
    })
  }
</script>

