<% layout('layout') %>

<h1><%= title %></h1>

<div class="row">
  <div class="col-sm-12">
    <p>Refer <a href="http://docs.videojs.com/docs/guides/setup.html#step-2-add-an-html5-video-tag-to-your-page-" target="_blank">http://docs.videojs.com/docs/guides/setup.html#step-2-add-an-html5-video-tag-to-your-page-</a>.</p>
  </div>
</div>

<div class="row">
  <div class="col-sm-12">
    <video id="example_video_1" class="video-js vjs-default-skin"
           controls
           loop
           preload="auto"
           width="640"
           height="264"
           poster="//vjs.zencdn.net/v/oceans.png"
           data-setup='{"example_option":true}'>
      <p class="vjs-no-js">To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p>
    </video>
  </div>
</div>


<script type="application/javascript">
  var player = videojs('example_video_1', {}, function() {
    // Player (this) is initialized and ready.
  });

  player.src([
    { type: 'video/mp4', src: '//vjs.zencdn.net/v/oceans.mp4' },
    { type: 'video/webm', src: '//vjs.zencdn.net/v/oceans.webm' },
    { type: 'video/ogg', src: '//vjs.zencdn.net/v/oceans.ogv' }
  ]);

  // Refer: https://github.com/videojs/video.js/blob/master/src/js/tech/html5.js#L1146
  // Refer: http://videojs.com/advanced/
  player.on('loadeddata', function(e) {
    console.log ("on loadeddata");
  });

  player.on('play', function() {
    console.log ("on play", player.currentTime());
  });

  player.on('playing', function() {
    console.log ("on playing", player.currentTime());
  });

  player.on('pause', function(e) {
    console.log ("on pause", player.currentTime());
    console.log(e);
  });

  //  player.on('timeupdate', function() {
  //    console.log ("on timeupdate");
  //  });

  player.on('ended', function() {
    console.log ("on ended", player.currentTime());
  });

  // Refer: https://github.com/videojs/video.js/blob/master/src/js/tech/html5.js#L276
  // Refer: https://developer.mozilla.org/ja/docs/Web/API/HTMLMediaElement/readyState
  player.on('canplay', function() {
    console.log ("on canplay", player.currentTime());
  });

  player.on('seeked', function(e) {
    console.log ("on seeked", player.currentTime());
    console.log(e);
  });
</script>

